<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>flea friend</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- iamport.payment.js -->
    <script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>
    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>
    <link th:href="@{/css/home.css}" rel="stylesheet" />
    <script type="text/javascript" th:src="@{/js/home.js}"></script>
</head>
<body>
<div class="header">
    <div class="user-info">
        <span class="point-info" th:text="'point: ' + ${userDTO.point}"></span>
        <button class="point-button" onclick="requestPoint(this)"
                th:attr="data-user-name=${userDTO.nickname},
                        data-user-id=${userDTO.userId}">
            포인트 충전
        </button>
    </div>

    <h1 class="animated-text">
        <span class="animated-text" th:text="${userDTO.nickname}"></span>님 환영합니다!
    </h1>

    <div class="button-container">
        <a class="action-button" th:href="@{|${agreeUrl}|}">친구목록 동의</a>
        <form class="action-form" th:action="@{/kakao/friendsInfo}" method="get">
            <input type="submit" value="친구목록 불러오기">
        </form>
        <form class="action-form" th:action="@{/kakao/logout}" method="get">
            <input type="submit" value="로그아웃">
        </form>
        <form class="action-form" th:action="@{/kakao/unlink}" method="get" onsubmit="return confirm('연결을 끊으시겠습니까? 남은 포인트가 소멸될 수 있습니다.');">
            <input type="submit" value="연결끊기">
        </form>
    </div>
</div>

<div class="body">
    <h2>신뢰 장터</h2><br><br>
    <div class="button-body">
        <form class="action-body" th:action="@{/trust/goods}" method="get">
            <input type="submit" value="상품 게시">
        </form>
        <form class="action-body" th:action="@{/trust/friendsGoods}" method="get">
            <input type="submit" value="친구 상품 보기">
        </form>
        <form class="action-body" th:action="@{/trust/myGoods}" method="get">
            <input type="submit" value="내 상품 보기">
        </form>
        <form class="action-body" th:action="@{/trust/allGoods}" method="get">
            <input type="submit" value="모든 상품 보기">
        </form>
    </div>
</div>
</body>
</html>
